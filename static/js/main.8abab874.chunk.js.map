{"version":3,"sources":["models/WorkoutModel.js","components/AddWorkout/AddWorkout.js","components/WorkoutItem/WorkoutItem.js","components/WorkoutList/WorkoutList.js","components/Workout/Workout.js","components/Header/Header.jsx","App.js","index.js"],"names":["WorkoutModel","date","distance","this","id","shortid","generate","AddWorkout","props","form","onSubmit","onChange","handleChange","event","target","name","value","className","preventDefault","htmlFor","placeholder","type","WorkoutItem","item","moment","format","toFixed","onClick","onEdit","onRemove","WorkoutList","workouts","workoutsSort","sort","a","b","Date","parse","map","o","key","Workout","React","useState","setWorkout","editingStepID","setEditingStepID","setForm","prevForm","getDate","isValid","toDate","oldDate","find","prevState","valueOf","Number","step","filter","Header","header","defaultProps","App","ReactDOM","render","document","getElementById"],"mappings":"sZAEqBA,EACnB,WAAYC,EAAMC,GAAW,oBAC3BC,KAAKC,GAAKC,IAAQC,WAClBH,KAAKF,KAAOA,EACZE,KAAKD,SAAWA,G,MCFL,SAASK,EAAWC,GAAQ,IACjCC,EAA6BD,EAA7BC,KAAMC,EAAuBF,EAAvBE,SAAUC,EAAaH,EAAbG,SAElBC,EAAe,SAACC,GAAW,IAAD,EACNA,EAAMC,OAAtBC,EADsB,EACtBA,KAAMC,EADgB,EAChBA,MACdL,EAASI,EAAMC,IAQjB,OACE,0BAAMC,UAAU,cAAcP,SANX,SAACG,GACpBA,EAAMK,iBACNR,MAKE,yBAAKO,UAAU,2BACb,2BAAOE,QAAQ,cAAc,qEAC7B,2BACEf,GAAG,OACHW,KAAK,OACLC,MAAOP,EAAKR,KACZU,SAAUC,EACVQ,YAAY,cAGhB,yBAAKH,UAAU,+BACb,2BAAOE,QAAQ,kBAAkB,mEACjC,2BACEf,GAAG,WACHW,KAAK,WACLC,MAAOP,EAAKP,SACZS,SAAUC,EACVQ,YAAY,QAGhB,4BAAQH,UAAU,gBAAgBI,KAAK,UAAvC,O,0BCjCS,SAASC,EAAYd,GAAQ,IAAD,EACdA,EAAMe,KAAzBtB,EADiC,EACjCA,KAAMC,EAD2B,EAC3BA,SAEd,OACE,yBAAKe,UAAU,gBACb,yBAAKA,UAAU,iCACbO,IAAOvB,GAAMwB,OAAO,aAEtB,yBAAKR,UAAU,qCAAqCf,EAASwB,QAAQ,IACrE,yBAAKT,UAAU,oCACb,yBAAKA,UAAU,YAAYU,QAASnB,EAAMoB,QAA1C,QACA,yBAAKX,UAAU,cAAcU,QAASnB,EAAMqB,UAA5C,Y,MCZO,SAASC,EAAYtB,GAAQ,IAClCuB,EAAavB,EAAbuB,SAKFC,EAAeD,EAASE,MAAK,SAACC,EAAGC,GACrC,OAAIC,KAAKC,MAAMH,EAAEjC,MAAQmC,KAAKC,MAAMF,EAAElC,MAC7B,GAED,KAGV,OACE,yBAAKgB,UAAU,gBACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,qBAAqB,qEACpC,yBAAKA,UAAU,yBAAyB,mEACxC,yBAAKA,UAAU,wBAAwB,qDAEzC,yBAAKA,UAAU,qBAEXe,EAAaM,KAAI,SAACC,GAAD,OACf,kBAAC,EAAD,CACEhB,KAAMgB,EACNX,OAAQ,kBAtBAxB,EAsBiBmC,EAAEnC,GAtBZI,EAAMoB,OAAOxB,GAArB,IAACA,GAuBRyB,SAAU,kBAtBAzB,EAsBmBmC,EAAEnC,GAtBdI,EAAMqB,SAASzB,GAAvB,IAACA,GAuBVoC,IAAKD,EAAEnC,U,MCzBN,SAASqC,EAAQjC,GAAQ,IAAD,EACJkC,IAAMC,SAAS,IADX,mBAC7BZ,EAD6B,KACnBa,EADmB,OAEOF,IAAMC,WAFb,mBAE7BE,EAF6B,KAEdC,EAFc,OAGXJ,IAAMC,SAAS,CAAE1C,KAAM,GAAIC,SAAU,KAH1B,mBAG7BO,EAH6B,KAGvBsC,EAHuB,KAmDrC,OACE,yBAAK9B,UAAU,WACb,kBAAC,EAAD,CACER,KAAMA,EACNE,SAlDe,SAACI,EAAMC,GAC1B+B,GAAQ,SAAAC,GAAQ,sBAASA,EAAT,eAAoBjC,EAAOC,QAkDvCN,SA/Ce,WAAO,IAClBR,EAAaO,EAAbP,SACF+C,EAAUzB,IAAOf,EAAKR,KAAM,YAAY,GAE9C,GAAKgD,EAAQC,UAAb,CACA,IAAMjD,EAAOgD,EAAQE,SAErB,GAAIN,EAAe,CACjB,IAAMO,EAAUrB,EAASsB,MAAK,SAACd,GAAD,OAAOA,EAAEnC,KAAOyC,KAAe5C,KAC7D2C,GAAW,SAACU,GAAD,OAAeA,EAAUhB,KAAI,SAACC,GACvC,OAAIA,EAAEtC,KAAKsD,YAAcH,EAAQG,UACxB,IAAIvD,EAAaC,EAAMuD,OAAOtD,IAEhCqC,aAGLR,EAASsB,MAAK,SAACd,GAAD,OAAOA,EAAEtC,KAAKsD,YAActD,EAAKsD,aACjDX,GAAW,SAACU,GAAD,OAAeA,EAAUhB,KAAI,SAACC,GACvC,OAAIA,EAAEtC,KAAKsD,YAActD,EAAKsD,UACrB,IAAIvD,EAAaC,EAAMuD,OAAOtD,GAAYqC,EAAErC,UAE9CqC,QAGTK,GAAW,SAACU,GAAD,4BAAmBA,GAAnB,CAA8B,IAAItD,EAAaC,EAAMuD,OAAOtD,SAI3E6C,EAAQ,CAAE9C,KAAM,GAAIC,SAAU,KAC9B4C,EAAiB,UAoBf,kBAAC,EAAD,CAAUf,SAAUA,EAAUH,OAjBf,SAACxB,GAClB,IAAMqD,EAAO1B,EAASsB,MAAK,SAACd,GAAD,OAAOA,EAAEnC,KAAOA,KAC3C0C,EAAiBW,EAAKrD,IACtB2C,EAAQ,CAAE9C,KAAMuB,IAAOiC,EAAKxD,MAAMwB,OAAO,YAAavB,SAAUuD,EAAKvD,YAcjB2B,SAXjC,SAACzB,GACpBwC,GAAW,SAACU,GAAD,OAAeA,EAAUI,QAAO,SAACnB,GAAD,OAAOA,EAAEnC,KAAOA,Y,MCnDhD,SAASuD,EAAOnD,GAAQ,IAC7BoD,EAAWpD,EAAXoD,OACR,OACE,wBAAI3C,UAAU,UAAU2C,GAI5BD,EAAOE,aAAe,CACpBD,OAAQ,oBCAKE,MAPf,WACE,OAAQ,oCACN,kBAAC,EAAD,MACA,kBAAC,EAAD,QCJJC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.8abab874.chunk.js","sourcesContent":["import shortid from 'shortid';\n\nexport default class WorkoutModel {\n  constructor(date, distance) {\n    this.id = shortid.generate();\n    this.date = date;\n    this.distance = distance;\n  }\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport './AddWorkout.css';\n\nexport default function AddWorkout(props) {\n  const { form, onSubmit, onChange } = props;\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    onChange(name, value);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    onSubmit();\n  }\n\n  return (\n    <form className='add-workout' onSubmit={handleSubmit}>\n      <div className='add-workout-date column'>\n        <label htmlFor='date label'>{'Дата (ДД.ММ.ГГ)'}</label>\n        <input \n          id='date'\n          name='date'\n          value={form.date}\n          onChange={handleChange}\n          placeholder=\"12.12.12\"\n        />\n      </div>\n      <div className='add-workout-distance column'>\n        <label htmlFor='distance label'>{'Пройдено (КМ)'}</label>\n        <input\n          id='distance'\n          name='distance'\n          value={form.distance}\n          onChange={handleChange}\n          placeholder=\"12\"\n        />\n      </div>\n      <button className=\"button column\" type='submit'>Ok</button>\n    </form>\n  )\n}\n\nAddWorkout.propTypes = {\n  form: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport StepModel from '../../models/WorkoutModel';\nimport moment from 'moment';\nimport './WorkoutItem.css';\n\nexport default function WorkoutItem(props) {\n  const { date, distance } = props.item;\n\n  return (\n    <div className='workout-item'>\n      <div className='workout-item-date column-item'>{\n        moment(date).format('DD.MM.YY')\n      }</div>\n      <div className='workout-item-distance column-item'>{distance.toFixed(1)}</div>\n      <div className='workout-item-actions column-item'>\n        <div className='icon edit' onClick={props.onEdit}>edit</div>\n        <div className='icon delete' onClick={props.onRemove}>delete</div>\n      </div>\n    </div>\n  )\n}\n\nWorkoutItem.propTypes = {\n  item: PropTypes.instanceOf(StepModel).isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport WorkoutItem from '../WorkoutItem/WorkoutItem';\nimport './WorkoutList.css';\n\nexport default function WorkoutList(props) {\n  const { workouts } = props;\n\n  const handleEdit = (id) => props.onEdit(id);\n  const handleRemove = (id) => props.onRemove(id);\n\n  const workoutsSort = workouts.sort((a, b) => {\n    if (Date.parse(a.date) < Date.parse(b.date)) {\n      return 1;\n    }\n    return -1;\n  });\n\n  return (\n    <div className='workout-list'>\n      <div className='workout-list-headers'>\n        <div className='workout-list-date'>{'Дата (ДД.ММ.ГГ)'}</div>\n        <div className='workout-list-distance'>{'Пройдено (КМ)'}</div>\n        <div className='workout-list-actions'>{'Действия'}</div>\n      </div>\n      <div className='workout-list-body'>\n        {\n          workoutsSort.map((o) => \n            <WorkoutItem\n              item={o}\n              onEdit={() => handleEdit(o.id)}\n              onRemove={() => handleRemove(o.id)}\n              key={o.id}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n}\n\nWorkoutList.propTypes = {\n  workouts: PropTypes.array.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  onEdit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport WorkoutModel from '../../models/WorkoutModel';\nimport AddWorkout from '../AddWorkout/AddWorkout';\nimport StepList from '../WorkoutList/WorkoutList';\nimport moment from 'moment';\nimport './Workout.css';\n\nexport default function Workout(props) {\n  const [ workouts, setWorkout ] = React.useState([]);\n  const [ editingStepID, setEditingStepID ] = React.useState();\n  const [ form, setForm ] = React.useState({ date: '', distance: '' });\n\n  const handleChange = (name, value) => {\n    setForm(prevForm => ({...prevForm, [name]: value}));\n  };\n\n  const handleSubmit = () => {\n    const { distance } = form;\n    const getDate = moment(form.date, 'DD.MM.YY', true);\n\n    if (!getDate.isValid()) return;\n    const date = getDate.toDate();\n\n    if (editingStepID) {\n      const oldDate = workouts.find((o) => o.id === editingStepID).date;\n      setWorkout((prevState) => prevState.map((o) => {\n        if (o.date.valueOf() === oldDate.valueOf()) {\n          return new WorkoutModel(date, Number(distance));\n        }\n        return o;\n      }));\n    } else {\n      if (workouts.find((o) => o.date.valueOf() === date.valueOf())) {\n        setWorkout((prevState) => prevState.map((o) => {\n          if (o.date.valueOf() === date.valueOf()) {\n            return new WorkoutModel(date, Number(distance) + o.distance);\n          }\n          return o;\n        }));\n      } else {\n        setWorkout((prevState) => [...prevState, new WorkoutModel(date, Number(distance))]);\n      }\n    }\n    \n    setForm({ date: '', distance: '' });\n    setEditingStepID(null);\n  }\n\n  const handleEdit = (id) => {\n    const step = workouts.find((o) => o.id === id);\n    setEditingStepID(step.id);\n    setForm({ date: moment(step.date).format('DD.MM.YY'), distance: step.distance });\n  }\n\n  const handleRemove = (id) => {\n    setWorkout((prevState) => prevState.filter((o) => o.id !== id));\n  }\n\n  return (\n    <div className='workout'>\n      <AddWorkout\n        form={form}\n        onChange={handleChange}\n        onSubmit={handleSubmit}\n      />\n      <StepList workouts={workouts} onEdit={handleEdit} onRemove={handleRemove} />\n    </div>\n  )\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport './Header.css';\n\nexport default function Header(props) {\n  const { header } = props;\n  return (\n    <h1 className=\"header\">{header}</h1>\n  );\n}\n\nHeader.defaultProps = {\n  header: 'Workout Schedule'\n};\n\nHeader.propTypes = {\n  header: PropTypes.string\n};","import React from 'react';\nimport './App.css';\nimport Workout from './components/Workout/Workout';\nimport Header from './components/Header/Header'\n\nfunction App() {\n  return (<>\n    <Header />\n    <Workout />\n  </>)\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}