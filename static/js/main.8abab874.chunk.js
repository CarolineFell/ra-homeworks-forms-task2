(this["webpackJsonpra-homeworks-forms-task2"]=this["webpackJsonpra-homeworks-forms-task2"]||[]).push([[0],{13:function(e,t,a){e.exports=a(33)},18:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=(a(18),a(12)),u=a(5),l=a(9),m=a(6),d=a(10),s=a(11),f=a.n(s),v=function e(t,a){Object(d.a)(this,e),this.id=f.a.generate(),this.date=t,this.distance=a};a(27);function E(e){var t=e.form,a=e.onSubmit,n=e.onChange,o=function(e){var t=e.target,a=t.name,r=t.value;n(a,r)};return r.a.createElement("form",{className:"add-workout",onSubmit:function(e){e.preventDefault(),a()}},r.a.createElement("div",{className:"add-workout-date column"},r.a.createElement("label",{htmlFor:"date label"},"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)"),r.a.createElement("input",{id:"date",name:"date",value:t.date,onChange:o,placeholder:"12.12.12"})),r.a.createElement("div",{className:"add-workout-distance column"},r.a.createElement("label",{htmlFor:"distance label"},"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e (\u041a\u041c)"),r.a.createElement("input",{id:"distance",name:"distance",value:t.distance,onChange:o,placeholder:"12"})),r.a.createElement("button",{className:"button column",type:"submit"},"Ok"))}var k=a(2),b=a.n(k);a(29);function h(e){var t=e.item,a=t.date,n=t.distance;return r.a.createElement("div",{className:"workout-item"},r.a.createElement("div",{className:"workout-item-date column-item"},b()(a).format("DD.MM.YY")),r.a.createElement("div",{className:"workout-item-distance column-item"},n.toFixed(1)),r.a.createElement("div",{className:"workout-item-actions column-item"},r.a.createElement("div",{className:"icon edit",onClick:e.onEdit},"edit"),r.a.createElement("div",{className:"icon delete",onClick:e.onRemove},"delete")))}a(30);function w(e){var t=e.workouts,a=t.sort((function(e,t){return Date.parse(e.date)<Date.parse(t.date)?1:-1}));return r.a.createElement("div",{className:"workout-list"},r.a.createElement("div",{className:"workout-list-headers"},r.a.createElement("div",{className:"workout-list-date"},"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)"),r.a.createElement("div",{className:"workout-list-distance"},"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e (\u041a\u041c)"),r.a.createElement("div",{className:"workout-list-actions"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f")),r.a.createElement("div",{className:"workout-list-body"},a.map((function(t){return r.a.createElement(h,{item:t,onEdit:function(){return a=t.id,e.onEdit(a);var a},onRemove:function(){return a=t.id,e.onRemove(a);var a},key:t.id})}))))}a(31);function N(e){var t=r.a.useState([]),a=Object(m.a)(t,2),n=a[0],o=a[1],c=r.a.useState(),d=Object(m.a)(c,2),s=d[0],f=d[1],k=r.a.useState({date:"",distance:""}),h=Object(m.a)(k,2),N=h[0],p=h[1];return r.a.createElement("div",{className:"workout"},r.a.createElement(E,{form:N,onChange:function(e,t){p((function(a){return Object(l.a)({},a,Object(u.a)({},e,t))}))},onSubmit:function(){var e=N.distance,t=b()(N.date,"DD.MM.YY",!0);if(t.isValid()){var a=t.toDate();if(s){var r=n.find((function(e){return e.id===s})).date;o((function(t){return t.map((function(t){return t.date.valueOf()===r.valueOf()?new v(a,Number(e)):t}))}))}else n.find((function(e){return e.date.valueOf()===a.valueOf()}))?o((function(t){return t.map((function(t){return t.date.valueOf()===a.valueOf()?new v(a,Number(e)+t.distance):t}))})):o((function(t){return[].concat(Object(i.a)(t),[new v(a,Number(e))])}));p({date:"",distance:""}),f(null)}}}),r.a.createElement(w,{workouts:n,onEdit:function(e){var t=n.find((function(t){return t.id===e}));f(t.id),p({date:b()(t.date).format("DD.MM.YY"),distance:t.distance})},onRemove:function(e){o((function(t){return t.filter((function(t){return t.id!==e}))}))}}))}a(32);function p(e){var t=e.header;return r.a.createElement("h1",{className:"header"},t)}p.defaultProps={header:"Workout Schedule"};var O=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement(N,null))};c.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.8abab874.chunk.js.map